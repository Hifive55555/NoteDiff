\section{Explicit Function and Implicit Equation}

It's time to clarify the difference between implicit function and explicit function!
Consider a explicit function $F: \mathbb{R}^2\to\mathbb{R}, (x,y)\mapsto z=F(x,y)$ which can be thought of a scalar field over $\mathbb{R}^2$
Esay, right? What about taking the value of $z$ as $0$? Is it a constant scalar field valued $0$? Never! There is a huge diference between $F(x,y)=0$ and $F(x,y)\equiv 0$.
The first one is a function that tells you $z\equiv 0$ whatever values $x$ and $y$ take; and the second one tells that for the specific function $z=F(x,y)$
, $F(x,y)=0$ determines a set of $(x,y)$ satisfying the equation $F(x,y)=0$.

Actually, due to our laziness and ambiguity, when we say a function $y=f(x)$ or $f(x)$, we are not really say that $y=f(x)$ or $f(x)$ is a function -
because $y=f(x)$ is a formula and $f(x)$ is a value! However, $y=f(x)$ is the definition formula of the funciton $f:x\mapsto y=f(x)$,
implying a binary relation that for a given $x$ in the defined domain, there is a unique $y$ corresponding to it (or determined).
Because a formula $y=f(x)$ defines a funciton $f$, no wonder we mixed them up! Same, $y$ is the image of $f$, which is the same as $f(x)$,
so it is always omitted.

Going back to the example we started with. \textbf{Given a formula that contains a function, if the function has been defined, then the formula is a equation;
if the function has not been defined, then we can consider the formula as the definition formula of the function.}
So, for a function $F: \mathbb{R}^2\to\mathbb{R}, (x,y)\mapsto z=F(x,y)$, what's the formula $F(x,y)=0$ means?
It means the intersection curve between the x-y coordinate plane and the scalar filed surface in the $\mathbb{R}^2\times\mathbb{R}=\mathbb{R}^3$ space.

\begin{figure}[!ht]
	\centering
	\input{chapters/chapter1/fig_implicit.tex}
	\caption{The intersection curve between the x-y coordinate plane and the scalar filed surface.}
	\label{intersection}
\end{figure}

As figure \ref{intersection} shows above, $F(x,y)=0$ determines a function $f: \mathbb{R}\to\mathbb{R}, x\mapsto y=f(x)$ if we transform the formula to the form of $y=f(x)$.


\section{Derivative and Tangent Vector}

A function $f: \mathbb{R}^2\to\mathbb{R}, (x,y)\mapsto z=f(x,y)$ is a explicit function and scalar filed over $\mathbb{R}^2$.
$f$ has good properties that we can define a derivative over it:

\begin{definition}
	For a real-valued function $f\in C^{k}: \mathbb{R}\to\mathbb{R}$, the \textbf{derivative} on $x_0\in D(f)$ is defined by:
	\[
		\left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_{x_0} f :=
		\lim_{\Delta x\to 0}\frac{f(x_0+\Delta x)-f(x_0)}{t},
	\]
	for $\Delta x\in\mathbb{R}$.
\end{definition}

\begin{definition}
	Construct a function $\frac{\mathrm{d}}{\mathrm{d}x}f: C^{k}\to\mathbb{R}$ satisfying:
	\[
		\left(\frac{\mathrm{d}}{\mathrm{d}x}f\right)(x_0) :=
		\left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_{x_0} f.
	\]
	$\frac{\mathrm{d}}{\mathrm{d}x}f$ is called the \textbf{derivative function}.
	It is denoted as $\frac{\mathrm{d}}{\mathrm{d}x}f\equiv f'$ simultaneously when it is clear whom to take the derivative from (always $x$).
	It is also write as $\dot{f}$ when taking the derivative from $t$.
\end{definition}

There are abundant corollaries on the field of derivative and are needless to say more. Let's turn our attention to
scalar field over $\mathbb{R}^n$, and we'll define the \textbf{derivative operator} and \textbf{directional derivative}
as well as the \textbf{gradient}. And we'll further study their geometric significance in the next section.

\begin{definition} [Parital Derivative]
	Given a function $f: \mathbb{R}^n\to\mathbb{R}, \bm{x}=(x^1,\dots,x^n)\mapsto y=f(\bm{x})$. The limitation is defined as the \textbf{partial derivative} at $\bm{x_0}$:
	\[
		\left.\frac{\partial}{\partial x^i}\right|_{\mathrm{x_0}} f:=
		\lim_{\Delta x^i\to 0}\frac{f(\dots,x_0^i+\Delta x^i,\dots)-f(\bm{x_0})}{\Delta x^i}=
		\left.\frac{\mathrm{d}}{\mathrm{d}x^i}\right|_{x^i=x_0^i} f(x_0^1,\dots,x^i,\dots,x_0^n).
	\]
\end{definition}

\begin{definition}
	\[
		\left(\frac{\partial}{\partial x^i}f\right)(\bm{x_0}):=
		\left.\frac{\partial}{\partial x^i}\right|_{\mathrm{x_0}} f
	\]
\end{definition}

\begin{theorem}[Chain Rule]
	Given a function $f: \mathbb{R}^n\to\mathbb{R}^m, \bm{x}\mapsto\mathbf{y}=f(\bm{x})$ that eats n variables and spit out m variables where $\bm{x}=(x^1,\dots,x^n), \mathbf{y}=(y^1,\dots,y^m)$.
	It can be thought of a vector $\langle f_1,\dots,f_n\rangle$ in which $f_i: \mathbb{R}\to\mathbb{R}^m, \bm{x}\mapsto y^i=f(\bm{x})$.
	All partial derivatives can be written in a maritx, which we called a \textbf{partial derivative tensor}:
	\[
		\frac{\partial f_j}{\partial x^i} = 
		\begin{bmatrix}
			\frac{\partial f_1}{\partial x^1} & \cdots & \frac{\partial f_1}{\partial x^n} \\
			\vdots & \ddots & \vdots \\
			\frac{\partial f_m}{\partial x^1} & \cdots & \frac{\partial f_m}{\partial x^n}
		\end{bmatrix}.
	\]
	Now we use vectors to represent a function chain: $\mathbf{z}=g(\mathbf{y}), \mathbf{y}=f(\bm{x})$. Then $\mathbf{z}=g(f(\bm{x}))=(g\circ f)(\bm{x})$. As can vertify,
	The partial derivative tensor of $z$ over $x$ is (here $z=g\circ f$ also):
	\begin{equation}
		\label{chain_rule}
		\frac{\partial z^k}{\partial x^i} = \frac{\partial g_k}{\partial y^j}\frac{\partial f_j}{\partial x^i},
	\end{equation}
	which is called the \textbf{Chain Rule}.
\end{theorem}

The partial derivative tensor written above is also a \textbf{Jacobian Matrix} of a vector-valued function. But isn't it better to take tensor notation?
When so, the gradient of each components can be represent more concise and intuitive!
\begin{equation}
	\label{jacobi_gradient}
	D\vec{f} = \nabla f_j = \frac{\partial f_j}{\partial x^i}.
\end{equation}

\begin{example}
	\begin{itemize}
		\item[(1)] Calculate the gradient of $f(x,y)=\sin(xy)+\frac{x^2}{1+\ln y}$ at $(\pi,1)$.
		\begin{solution}
			$\frac{\partial f}{\partial x} = y\cos(xy)+\frac{2x}{1+\ln y},
			\quad \frac{\partial f}{\partial y} = x\cos(xy)-\frac{x^2}{y(1+\ln y)^2}$.

			Then $\nabla f|_{(\pi,1)}=(\left.\frac{\partial f}{\partial x}\right|_{(\pi,1)}, \left.\frac{\partial f}{\partial y}\right|_{(\pi,1)})=
			(-1+2\pi, -\pi-\pi^2)$.
		\end{solution}
		\item[(2)] Given a composite function $z=f(x+y^2, ye^x)$, calculate $\frac{\partial z}{\partial x}$.
		\begin{solution}
			Denote that $z=f(u,v)=f(u^1(x,y),u^2(x,y))$. According to the Chain Rule:
		
			$\frac{\partial z}{\partial x}=\frac{\partial f}{\partial u^i}\frac{\partial u^i}{\partial x}=\frac{\partial f}{\partial u^1}+\frac{\partial f}{\partial u^2}ye^x$.
		\end{solution}
	\end{itemize}
\end{example}

\begin{definition}[Derivative Operator]
	For a scalar field $f: \mathbb{R}^n\to\mathbb{R}$, consider a column vector: $\bm{v}=\langle v^1,\dots,v^n\rangle$.
	Define a coordinate function $x: p\mapsto \bm{x}=x(p)\in\mathbb{R}^n$, which can be determined by $x^i: p\mapsto x^i=x^i(p)\in\mathbb{R}$, $\bm{x}=(x^1,\dots,x^n)$.
	Then the coordinate of a neighbor in $\bm{v}$ direction can be determined by a function $c(t)=\bm{x}+t\bm{v}=(x^1+tv^1,\dots,x^n+tv^n)$.

	The \textbf{derivative operator} $D_{v,p}: C^{k}\to\mathbb{R}$ over $p$ is a map satisfying:
	\[
		D_{v,p}f := \lim_{t\to 0}\frac{f(c(t))-f(\bm{x})}{t} =
		\left.\frac{\mathrm{d}}{\mathrm{d} t}\right|_{t=0} (f\circ c)
	\]
\end{definition}

By using the Chain Rule, we get $\left.\frac{\mathrm{d}}{\mathrm{d} t}\right|_{t=0} (f\circ c) = v^i \left.\frac{\partial}{\partial x^i}\right|_{p} f$.
Since this is established for $\forall x_0 \in D(f)$, we obtain:
$D_{v}f = v^i \cdot \left(\frac{\partial}{\partial x^i}f\right)$.
All the derivative operators at point $p$ constitude a set denoted by $\mathcal{D}_p(\mathbb{R}^n)$. As can be proven, $\mathcal{D}_p(\mathbb{R}^n)$ is a vector space.
All the vectors at point $p$ constitude a set denoted by $T_p(\mathbb{R}^n)$. As can be proven, $T_p(\mathbb{R}^n)$ is a vector space as well.

% we may define vector field first!

\begin{definition}[Directional Derivative]
	Construct a function $D_vf: D(f)\to\mathbb{R}$ that satisfies:
	\[
		D_{v}f := v^i\cdot \left(\frac{\partial}{\partial x^i}f\right), \quad
		\left.D_vf\right|_p := v^i\cdot \left.\frac{\partial}{\partial x^i}\right|_p f.
	\]
	This means the \textbf{directional derivative} in the direction of $\bm{v}$.
\end{definition}

At Figure \ref{dirder} we can see that $\left\{\left.\frac{\partial}{\partial x^i}\right|_p\right\}$ spans a vector space as is easy to prove.
And if we construct a map $\phi: \mathcal{D}_p(\mathbb{R}^n)\to T_p(\mathbb{R}^n)$ at point $p$, we can prove that the map is an isomorphism!
That means we can consider a vector as a directional derivative, so a vector $v$ can act on a function $f$ resulting in a real number(directional derivative) $v(f)=D_{v,p}f$ at point $p$.
A directional derivative can be considered as a vector at $p$ so we can draw it on $D(f)\in\mathbb{R}^n$.

% A proof of the isomorphism...
% The following statement is pending discussion

In the sense of isomorphism of vector spaces $T_p(\mathbb{R}^n)\simeq \mathcal{D}_p(\mathbb{R}^n)$, the standard basis $\{e_i\}$ corresponds to the set of partial derivatives $\left\{ \left.\frac{\partial}{\partial x^i}\right|_p \right\}$.
From then on, we treats them as the same thing: $\bm{v}=v^i=v^ie_i=v^i\left.\frac{\partial}{\partial x^i}\right|_p$.
Interestingly, there are different interpretations of this formula. Using Einstein summation convention, $\bm{v}$ is a combination of the bases.
Using tensor notation $e_i=\left.\frac{\partial}{\partial x^i}\right|_p=\bm{1}$ then $\bm{v}=v^i=\bm{v}\cdot\bm{1}$.

If we denote $\left.\frac{\partial}{\partial x^i}\right|_p = \left( \frac{\partial}{\partial x^1}, \dots, \frac{\partial}{\partial x^n} \right)_p$ as $\nabla$, we obtain:
\begin{equation}
	\bm{v} = \bm{v}\cdot\nabla
\end{equation}

This is quit enlightening because if we know that $\left.\frac{\partial}{\partial x^1}\right|_p$ is a unit vector in $\mathcal{D}_p(\mathbb{R}^n)$,
then $\nabla = \left.\frac{\partial}{\partial x^i}\right|_p$ forms a unit matrix, e.i. $\nabla = \bm{1}$.

\begin{figure}[!ht]
	\centering
    \include{chapters/chapter1/fig3}
    \caption{A vector and its derivatives}
    \label{dirder}
\end{figure}

\begin{definition}[Gradient]
	$\nabla$ is a \textbf{differential operator} at point $p$. $f$ is a function defined over $\mathbb{R}^n$. The gradient of $f$ at $p$ is defined by:
	\[\mathbf{grad}f:=\nabla f\]

	And $\nabla$ acting on $f$ is defined by:
	\[\nabla f:=\left.\frac{\partial}{\partial x^i}\right|_p f\]
\end{definition}

\begin{proposition}
	Direction derivative (unit) along the gradient is larger.
	\begin{proof}
		Given a unit vector $\bm{v}$ at point $p$ that $\|\bm{v}\|=1$. The directional derivative
		\[
			D_{v,p}f = \bm{v}(f) = (\bm{v}\cdot\nabla)(f) = \bm{v}\cdot(\nabla f).
		\]
		Because
		\[
			\bm{v}\cdot(\nabla f) = \|\bm{v}\|\|\nabla f\|\cos\theta\leq \|\nabla f\|=\|\mathbf{grad}f\|,
		\]
		taken the equality when and only when $\bm{v}=\lambda(\mathbf{grad}f)$, where $\lambda\in\mathbb{R}$.
	\end{proof}
\end{proposition}


There is something to note (to be change):

\begin{itemize}
	\item[(1)] There are at least two notations of denoting the derivative over $p$:
		$\left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_p f$ and $\frac{\mathrm{d}}{\mathrm{d}x}f(p)$.
		We choose the first one as another one causes some ambiguity. The derivative at $p$ is a map $C^{\infty}\to \mathbb{R}$
		which eats a function and spit out a real number. And the second one seems that $f$ eats $p$ and spit out a real number first
		as if the derivative acts on $\mathbb{R}$! Right now $\left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_p$ is just the very function defined
		over $p$ and its neighborhood, but if we pass through all the point in the domain we obtain a function from $\mathbb{R}$ to $\mathbb{R}$!
		
		\begin{definition}[Derivative Function $\frac{\mathrm{d}}{\mathrm{d}x}f$]
			Construct a function $\frac{\mathrm{d}}{\mathrm{d}x}f: \mathbb{R}\to\mathbb{R}$ satisfying:
			\[\left(\frac{\mathrm{d}}{\mathrm{d}x}f\right)(p) := \left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_p f,\]
			which shares the same domain with $f$. $\frac{\mathrm{d}}{\mathrm{d}x}f$ is called the \textbf{derivative function}.
            \label{derf}
		\end{definition}

		\begin{example}
			Calculate the derivative of the function $f(x)=x^2$
			\begin{solution}
			Let $c(t)=(p+vt)$.
			\[
				\left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_p f =
				\lim_{t\to 0}\frac{(p+vt)^2-p^2}{t} =
				\lim_{t\to 0}(2vp+v^2t) = 2vp + o(t) = 2vp.
			\]
			
			So $\frac{\mathrm{d}}{\mathrm{d}x}f$ satisfies:
			\[
				\left(\frac{\mathrm{d}}{\mathrm{d}x}f\right)(p) =
				\left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_p f = 2vp,
				\quad \forall p \in D(f).
			\]		
			\end{solution}
		\end{example}

		Definition \ref{derf} seems to be redundant because we see no difference in numerical values.
		But we shall keep in mind that derivative function is a constructed function. It assigns
		a derivative value to each point but is defined by $\left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_p$, that is,
		a map from the origin function to a derivative value over a certain point $p$.

		So how shall we view derivatives? A value, a map, or a real-valued function? The difference between the first two point
		is the same that $y$ between $y(x)$ in the function $y=y(x)$. So let's clarify it:
		\begin{itemize}
			\item[(i)] $\left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_p$ is a map $C^{\infty}\to\mathbb{R}$ called a \textbf{derivative operator}.
			\item[(ii)] $\left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_p f$ is the image of the derivative operator, which called a \textbf{derivative}.
			\item[(iii)] $\left(\frac{\mathrm{d}}{\mathrm{d}x}f\right)$ is a real-valued function called a \textbf{derivative function}.
			\item[(iv)] $\left(\frac{\mathrm{d}}{\mathrm{d}x}f\right)(p)$ is the image of the derivative function, which is the same as (ii) on the same point.
		\end{itemize}

	\item[(2)] Notice that I use $c(t)=x_0+vt$ instead of $x_0+\Delta x$, because I want to introduce the parameter $t$ into consideration.
		The reason is, if we talk about the process of taking the derivative, the picture in mind is that a point is approaching $p$ gradually.
		Simply use $x \in D(f) \subseteq \mathbb{R}$ is a little vague because we think of $x$ the axis function of point $p$ ($x_0=x(p)$), and
		we will see later that it fails to work when it comes to implicit function or multivariate function. So, we need another purer quantity to
		measure and represent the limit process.
\end{itemize}

\[
	\left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_p f =
	\left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_{t=0} (f\circ c) =
	v \left.\frac{\mathrm{d}}{\mathrm{d}x}\right|_p f
\]

In $y=f(x)$

\begin{definition}[Name]
    Nothing. 
\end{definition}


% https://q.uiver.app/#q=WzAsNCxbMiwxLCJVIl0sWzQsMiwiXFxtYXRoYmJ7Un0iXSxbMCwxLCJcXG1hdGhiYntSfXxfdCJdLFs0LDAsIlxcbWF0aGJie1J9Il0sWzIsMCwiYyh0KSJdLFswLDEsImYiLDJdLFswLDMsIkRfdmZ8X3AiXSxbMiwzLCJcXGxlZnQuXFxmcmFje1xcbWF0aHJte2R9fXtcXG1hdGhybXtkfXR9XFxyaWdodHxfe3Q9MH1mKGModCkpIiwwLHsiY3VydmUiOi0zfV0sWzUsNiwiRF92IiwyLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dXQ==
\[\begin{tikzcd}[row sep=large]
	&&&& {\mathbb{R}} \\
	{\mathbb{R}|_t} && U \\
	&&&& {\mathbb{R}}
	\arrow["{\left.\frac{\mathrm{d}}{\mathrm{d}t}\right|_{t=0}f(c(t))}", curve={height=-18pt}, from=2-1, to=1-5]
	\arrow["{c(t)}", from=2-1, to=2-3]
	\arrow[""{name=0, anchor=center, inner sep=0}, "{D_vf|_p}", from=2-3, to=1-5]
	\arrow[""{name=1, anchor=center, inner sep=0}, "f"', from=2-3, to=3-5]
	\arrow["{D_v}"', shorten <=4pt, shorten >=4pt, Rightarrow, from=1, to=0]
\end{tikzcd}\]
